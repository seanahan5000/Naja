				LST	OFF
				TR	ON
				EXP	OFF

				USE	/NAJA/VARS/MACROS
				PUT	/NAJA/VARS/ZPAGE
				PUT	/NAJA/VARS/CONSTANTS
				PUT	/NAJA/VARS/NCOM.VARS
				PUT	/NAJA/VARS/CAMP.VARS
				PUT	/NAJA/VARS/MISC.VARS
				PUT	/NAJA/VARS/THALL.VARS
				PUT	/NAJA/VARS/TCTRL.VARS

				ORG	$7800

*-------------------------------

SELECT_OPTION	LDA	CAMP_HERE
				AND	#$FF-bit_RefRegCom-bit_Diagnose
				STA	CAMP_HERE
				JSR	CLEAR1
				LDY	#0
				JSR	TEXTER
				LDX	#<SELECT_DEF
				LDY	#>SELECT_DEF
				JSR	INIT_CURSOR
				JSR	GETKEY
				JMP	DESTINATION

SELECT_DEF		DB	$04
				DB	$80
				DW	:SELECTCURS
				DW	:JMPVECTORS
:SELECTCURS		LDX	CURSOR
				LDY	:YPNTS,X
				LDX	#86
				JMP	ARROWER
:YPNTS			DB	76,84,92,100,108,116
:JMPVECTORS		DW	ALIEN_EDITOR
				DW	TELEPORTER
				DW	MAKE_ENCOUNTR
				DW	SET_ENCODDS
				DW	LEAVE

*-------------------------------

MAKE_ENCOUNTR
SET_ENCODDS

LEAVE			JSR	CLEAR1
				LDA	#WHITE1
				STA	COLOR
				LDA	#$20
				STA	PAGE
				JSR	GETNSEW
				JSR	NOSCAN
				JMP	RDKEY

*-------------------------------

ALIEN_EDITOR	LDA	#$88
				STA	SSTOREH
				LDY	#$02
				LDX	#$18
				LDA	#$18
				JSR	SLOAD
				JMP	$8800

*-------------------------------

TEXTER			TYA
				ASL
				TAY
				LDA	TEXTS,Y
				STA	POINTL
				LDA	TEXTS+1,Y
				STA	POINTH
				JMP	TEXTOUT

TEXTS			DW	TEXT0
				DW	TPORT_TEXT

TEXT0			PLOTAT	86;66;(SELECT_OPTION:)
				PLOTAT	101;76;(EDIT_ALIENS)
				PLOTAT	101;84;(TELEPORTER)
				PLOTAT	101;92;(CREATE_ENCOUNTER)
				PLOTAT	101;100;(SET_ENCOUNTER_ODDS)
				PLOTAT	101;108;(LEAVE)+

*-------------------------------

				PUT	SEL.TELEPORT
				SAV	SELECT.OPTION
